%ul
  %li
    %a{ :href => '#form-description' }= t 'form.description'
  %li
    %a{ :href => '#form-fields' }=t 'form.fields'
  %li
    %a{ :href => '#form-style' }=t 'form.style'
  %li
    %a{ :href => '#form-preview' }=t 'form.preview'
  
#form-description  
  = f.text_field :title
  = f.text_field :submit_title
  = f.text_area :description

#form-fields  
  - @form.fields.each_with_index do |field,i|
    %p
      %label Заголовок:
      = text_field_tag( "form[fields][#{i}][title]", field.title )
      %br   
            
      %label Тип:
      = select_tag( "form[fields][#{i}][type]", options_for_select( { "Строка" => :string, "Текст" => :text, "EMail" => :email }, field.type ) )
      %br
            
      %label По умолчанию:
      = text_field_tag( "form[fields][#{i}][default]", field.default )
      %br      
          
      = check_box_tag( "form[fields][#{i}][enabled]", 1, field.enabled? )
      %label Разрешено:
      %br
            
    %hr
        
#form-style
  - style = @form.style
  
  %p
    %label=t( 'style.font_family' ) + ':'
    = font_select_tag( 'form[style][font_family]', style.font_family )
  
  %p
    %label=t( 'style.font_size' ) + ':'
    = text_field_tag( 'form[style][font_size]', style.font_size )
  
  %p
    %label=t( 'style.font_color' ) + ':'
    = color_field_tag( 'form[style][font_color]', style.font_color )
    
  %p
    %label=t( 'style.title_family' ) + ':'
    = font_select_tag( 'form[style][title_family]', style.title_family )
  
  %p
    %label=t( 'style.title_size' ) + ':'
    = text_field_tag( 'form[style][title_size]', style.title_size )
  
  %p
    %label=t( 'style.title_color' ) + ':'
    = color_field_tag( 'form[style][title_color]', style.title_color )
  
  %p  
    %label=t( 'style.background' ) + ':'
    = color_field_tag( 'form[style][background]', style.background )
    
#form-preview